/***************************************************************************
 *                                                                         *
 * Auto Generated BY CodeComment                                           *
 * Copyright(C) 2000-2016, JiangSu Yinhe Electronic Co.Ltd.                *
 * All Rights Reserved.                                                    *
 * THIS IS UNPUBLISHED PROPRIETARY SOURCE CODE OF Yinhe Elec Co.Ltd.       *
 * The copyright notice above does not evidence any actual or intended     *
 * publication of such source code.                                        *
 *                                                                         *
 **************************************************************************/

/*   
Template Name: Color Admin - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.1
Version: 1.5.0
Author: Sean Ngu
Website: http://www.seantheme.com/color-admin-v1.5/admin/
*/
////////////////////////////////////////////////////////////////////////
// 累计统计数据

var getMonthName=function(e)
{
	var t=[];
	t[0]="一月";t[1]="二月";t[2]="三月";t[3]="四月";
	t[4]="五月";t[5]="六月";t[6]="七月";t[7]="八月";
	t[8]="9月";t[9]="十月";t[10]="十一月";t[11]="十二月";
	return t[e]
};

var getDate=function(e)
{
	var t=new Date(e);
	var n=t.getDate();
	var r=t.getMonth()+1;
	var i=t.getFullYear();
	
	if(n<10){n="0"+n}
	if(r<10){r="0"+r}
	
	t=i+"-"+r+"-"+n;
	return t
};

 function format_number(n){
   var b=parseInt(n).toString();
   var len=b.length;
   if(len<=3){return b;}
   var r=len%3;
   return r>0?b.slice(0,r)+","+b.slice(r,len).match(/\d{3}/g).join(","):b.slice(r,len).match(/\d{3}/g).join(",");
 }
 
function fmoney(s, n) {  
    n = n > 0 && n <= 20 ? n : 2;  
    s = parseFloat((s + "").replace(/[^\d\.-]/g, "")).toFixed(n) + "";  
    var l = s.split(".")[0].split("").reverse(), r = s.split(".")[1];  
    t = "";  
    for (i = 0; i < l.length; i++) {  
        t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? "," : "");  
    }  
    return t.split("").reverse().join("") + "." + r;  
}  

// 处理统计区域
var handleSumEnergyArea=function()
{
	var sumEnergy = $("[id$='hiddenmeter']").val();
	var sumEnergyPercent = $("[id$='hiddenmeterRate']").val();
	document.getElementById("sumEnergyDiv").innerText = fmoney(Math.abs(sumEnergy), 1);
	document.getElementById("sumEnergyPercentProcDiv").style.width = Math.abs(sumEnergyPercent)+'%';
	if (sumEnergyPercent > 0.00001)
	{
		document.getElementById("sumEnergyPercentProcDiv").style.background = '#ff0000';
		document.getElementById("sumEnergyPercentSpan").innerText = ' 增长 ' + Math.abs(sumEnergyPercent)+'%';
	}
	else
	{
		document.getElementById("sumEnergyPercentProcDiv").style.background = '#00ff00';
		document.getElementById("sumEnergyPercentSpan").innerText = ' 缩减 ' + Math.abs(sumEnergyPercent)+'%';
	}
};

var handleSumTimeArea=function()
{	
	var sumTime = $("[id$='hiddentime']").val();
	var sumTimePercent = $("[id$='hiddentimeRate']").val();
	document.getElementById("sumTimeDiv").innerText = fmoney(Math.abs(sumTime), 1);
	document.getElementById("sumTimePercentProcDiv").style.width = Math.abs(sumTimePercent)+'%';
	if (sumTimePercent > 0.00001)
	{
		document.getElementById("sumTimePercentProcDiv").style.background = '#ff0000';
		document.getElementById("sumTimePercentSpan").innerText = ' 增长 ' + Math.abs(sumTimePercent)+'%';
	}
	else
	{
		document.getElementById("sumTimePercentProcDiv").style.background = '#00ff00';
		document.getElementById("sumTimePercentSpan").innerText = ' 缩减 ' + Math.abs(sumTimePercent)+'%';
	}	
};

var handleSumCountArea=function()
{
	var sumCount = $("[id$='hiddentimes']").val();
	var sumCountPercent = $("[id$='hiddentimesRate']").val();
	//console.log("sumCount:" +　sumCount + "---sumCountPercent:" + sumCountPercent);
	document.getElementById("sumCountDiv").innerText = format_number(Math.abs(sumCount));
	document.getElementById("sumCountPercentProcDiv").style.width = Math.abs(sumCountPercent)+'%';
	if (sumCountPercent > 0.00001)
	{
		document.getElementById("sumCountPercentProcDiv").style.background = '#ff0000';
		document.getElementById("sumCountPercentSpan").innerText = ' 增长 ' + Math.abs(sumCountPercent)+'%';
	}
	else
	{
		document.getElementById("sumCountPercentProcDiv").style.background = '#00ff00';
		document.getElementById("sumCountPercentSpan").innerText = ' 缩减 ' + Math.abs(sumCountPercent)+'%';
	}
};

var handleSumMoneyArea=function()
{

	var sumMoney = $("[id$='hiddenincome']").val();
	var sumMoneyPercent = $("[id$='hiddenincomeRate']").val();
	document.getElementById("sumMoneyDiv").innerText = fmoney(Math.abs(sumMoney), 2);
	document.getElementById("sumMoneyPercentProcDiv").style.width = Math.abs(sumMoneyPercent)+'%';
	if (sumMoneyPercent > 0.00001)
	{
		document.getElementById("sumMoneyPercentProcDiv").style.background = '#ff0000';
		document.getElementById("sumMoneyPercentSpan").innerText = ' 增长 ' + Math.abs(sumMoneyPercent)+'%';
	}
	else
	{
		document.getElementById("sumMoneyPercentProcDiv").style.background = '#00ff00';
		document.getElementById("sumMoneyPercentSpan").innerText = ' 缩减 ' + Math.abs(sumMoneyPercent)+'%';
	}	
};

// 尖峰平谷分时线图
var handleJFPGEnergyLineChart=function()
{	
	////////////////////////////////////////////////////////////////////////
	// 尖峰平谷分时线图
	// 尖峰平谷四个状态对应的颜色，l表示线的颜色，p表示点的颜色
	var lj="#cc4946";var pj="#da6260";
	var lf="#727cb6";var pf="#8992c7";
	var lp="#49b6d6";var pp="#59c6e6";
	var lg="#005c5c";var pg="#106c6c";
	var pi="rgba(0,0,0,0.6)";var ps="rgba(255,255,255,0.4)";	// 点和网格颜色
	var time1 = $("#meterdate0").val();var time2 = $("#meterdate1").val();var time3 = $("#meterdate2").val();
	var time4 = $("#meterdate3").val();var time5 = $("#meterdate4").val();var time6 = $("#meterdate5").val();
	var time7 = $("#meterdate6").val();var time8 = $("#meterdate7").val();
	var needle0;var peak0;var smooth0;var vale0;
	var needle1;var peak1;var smooth1;var vale1;
	var needle2;var peak2;var smooth2;var vale2;
	var needle3;var peak3;var smooth3;var vale3;
	var needle4;var peak4;var smooth4;var vale4;
	var needle5;var peak5;var smooth5;var vale5;
	var needle6;var peak6;var smooth6;var vale6;
	var needle7;var peak7;var smooth7;var vale7;
	for(var i = 0;7 >= i;i++){
		if(i == 0){
			needle0 = $("#needle0").val();
			peak0 = $("#peek0").val();
			smooth0 = $("#smooth0").val();
			vale0 = $("#vale0").val();
		}
		if(i == 1){
			needle1 = $("#needle1").val();
			peak1 = $("#peek1").val();
			smooth1 = $("#smooth1").val();
			vale1 = $("#vale1").val();
		}
		if(i == 2){
			needle2 = $("#needle2").val();
			peak2 = $("#peek2").val();
			smooth2 = $("#smooth2").val();
			vale2 = $("#vale2").val();
		}
		if(i == 3){
			needle3 = $("#needle3").val();
			peak3 = $("#peek3").val();
			smooth3 = $("#smooth3").val();
			vale3 = $("#vale3").val();
		}
		if(i == 4){
			needle4 = $("#needle4").val();
			peak4 = $("#peek4").val();
			smooth4 = $("#smooth4").val();
			vale4 = $("#vale4").val();
		}
		if(i == 5){
			needle5 = $("#needle5").val();
			peak5 = $("#peek5").val();
			smooth5 = $("#smooth5").val();
			vale5 = $("#vale5").val();
		}
		if(i == 6){
			needle6 = $("#needle6").val();
			peak6 = $("#peek6").val();
			smooth6 = $("#smooth6").val();
			vale6 = $("#vale6").val();
		}
		if(i == 7){
			needle7 = $("#needle7").val();
			peak7 = $("#peek7").val();
			smooth7 = $("#smooth7").val();
			vale7 = $("#vale7").val();
		}
	}
	
	//按时间对应的尖峰平谷电量map, x时间，yzmn对应尖峰平谷
	var jfpgEnergyMap = [
		{x:time8,y:needle7,z:peak7,m:smooth7,n:vale7},
		{x:time7,y:needle6,z:peak6,m:smooth6,n:vale6},
		{x:time6,y:needle5,z:peak5,m:smooth5,n:vale5},
		{x:time5,y:needle4,z:peak4,m:smooth4,n:vale4},
		{x:time4,y:needle3,z:peak3,m:smooth3,n:vale3},
		{x:time3,y:needle2,z:peak2,m:smooth2,n:vale2},
		{x:time2,y:needle1,z:peak1,m:smooth1,n:vale1},
		{x:time1,y:needle0,z:peak0,m:smooth0,n:vale0}
		];
	Morris.Line({
		element:"jfpgEnergy-line-chart",
		data: jfpgEnergyMap, 
		xkey:"x",ykeys:["y","z","m","n"],
		xLabelFormat:function(e){e=getMonthName(e.getMonth());
			if(e.toString() == "9月"){
				var str = "九月";
				return str;
			}
			return e.toString()},
		labels:["尖","峰","平","谷"],
		lineColors:[lj,lf,lp,lg],
		pointFillColors:[pj,pf,pp,pg],
		lineWidth:"2px",
		pointStrokeColors:[pi,pi,pi,pi],
		resize:true,
		gridTextFamily:"Open Sans",
		gridTextColor:ps,
		gridTextWeight:"normal",
		gridTextSize:"11px",
		gridLineColor:"rgba(0,0,0,0.5)",
		hideHover:"auto"
	})
};

	// 尖峰平谷总饼图
	var handleJFPGEnergyDonutChart=function()
	{
		////////////////////////////////////////////////////////////////////////
		// 尖峰平谷分时饼图
		// 尖峰平谷总电量
		var jTEnergy = $("#jTEnergySpan").html();
		var fTEnergy = $("#fTEnergySpan").html();
		var pTEnergy = $("#pTEnergySpan").html();
		var gTEnergy = $("#gTEnergySpan").html();
		var lj="#cc4946";var pj="#da6260";
		var lf="#727cb6";var pf="#8992c7";
		var lp="#49b6d6";var pp="#59c6e6";
		var lg="#005c5c";var pg="#106c6c";
		Morris.Donut({
			element:"jfpgEnergy-donut-chart",
			data:[{label:"尖电量",value:jTEnergy},{label:"峰电量",value:fTEnergy},{label:"平电量",value:pTEnergy},{label:"谷电量",value:gTEnergy}],
			colors:[lj,lf,lp,lg],
			labelFamily:"Open Sans",labelColor:"rgba(255,255,255,0.4)",labelTextSize:"12px",backgroundColor:"#242a30"
			})
			
		document.getElementById("jTEnergySpan").innerText = jTEnergy;
		document.getElementById("fTEnergySpan").innerText = fTEnergy;
		document.getElementById("pTEnergySpan").innerText = pTEnergy;
		document.getElementById("gTEnergySpan").innerText = gTEnergy;
	
		document.getElementById("TEnergySpan").innerText = $("#TEnergySpan").html();
	};

// 分省数量分布矢量地图
var handleProvinceVectorMap=function()
{
////////////////////////////////////////////////////////////////////////
	// 分省数量分布矢量地图
	// 按省名的桩个数
	var provinceValueMap = {
		"Beijing": $("#value0").val(),
		"Tianjin": $("#value1").val(),
		"Hebei": $("#value2").val(),
		"Shanxi": $("#value3").val(),
		"Neimengu": $("#value4").val(),
		"Liaoning": $("#value5").val(),
		"Jilin": $("#value6").val(),
		"Heilongjiang": $("#value7").val(),
		"Shanghai": $("#value8").val(),
		"Jiangsu": $("#value9").val(),
		"Zhejiang": $("#value10").val(),
		"Anhui": $("#value11").val(),
		"Fujian": $("#value12").val(),
		"Jiangxi": $("#value13").val(),
		"Shandong": $("#value14").val(),
		"Henan": $("#value15").val(),
		"Hubei": $("#value16").val(),
		"Hunan": $("#value17").val(),
		"Guangdong": $("#value18").val(),
		"Guangxi": $("#value19").val(),
		"Hainan": $("#value20").val(),
	    "Chongqing": $("#value21").val(),
	    "Sichuan": $("#value22").val(),
	    "Guizhou": $("#value23").val(),
	    "Yunnan": $("#value24").val(),
	    "Xizang": $("#value25").val(),
	    "Shaanxi": $("#value26").val(),
	    "Gansu": $("#value27").val(),
	    "Qinghai": $("#value28").val(),
	    "Ningxia": $("#value29").val(),
	    "Xinjiang": $("#value30").val(),
	    "Taiwan": $("#value31").val(),
	    "HongKong": $("#value32").val(),
	    "Macau": $("#value33").val(),
		};
		var provinceChargingMap = {
			"Beijing": $("#valuee0").val(),
			"Tianjin": $("#valuee1").val(),
			"Hebei": $("#valuee2").val(),
			"Shanxi": $("#valuee3").val(),
			"Neimengu": $("#valuee4").val(),
			"Liaoning": $("#valuee5").val(),
			"Jilin": $("#valuee6").val(),
			"Heilongjiang": $("#valuee7").val(),
			"Shanghai": $("#valuee8").val(),
			"Jiangsu": $("#valuee9").val(),
			"Zhejiang": $("#valuee10").val(),
			"Anhui": $("#valuee11").val(),
			"Fujian": $("#valuee12").val(),
			"Jiangxi": $("#valuee13").val(),
			"Shandong": $("#valuee14").val(),
			"Henan": $("#valuee15").val(),
			"Hubei": $("#valuee16").val(),
			"Hunan": $("#valuee17").val(),
			"Guangdong": $("#valuee18").val(),
			"Guangxi": $("#valuee19").val(),
			"Hainan": $("#valuee20").val(),
		    "Chongqing": $("#valuee21").val(),
		    "Sichuan": $("#valuee22").val(),
		    "Guizhou": $("#valuee23").val(),
		    "Yunnan": $("#valuee24").val(),
		    "Xizang": $("#valuee25").val(),
		    "Shaanxi": $("#valuee26").val(),
		    "Gansu": $("#valuee27").val(),
		    "Qinghai": $("#valuee28").val(),
		    "Ningxia": $("#valuee29").val(),
		    "Xinjiang": $("#valuee30").val(),
		    "Taiwan": $("#valuee31").val(),
		    "HongKong": $("#valuee32").val(),
		    "Macau": $("#valuee33").val(),
		};
	// 充电/空闲/故障/离线四种状态的桩个数
	var chargerCharging = $("#chargerChargingSpan").html();
	var chargerFree = $("#chargerFreeSpan").html();
	var chargerFault = $("#chargerFaultSpan").html();
	var chargerOffline = $("#chargerOfflineSpan").html();


	if($("#ampcontainer").length!==0)
	{
/*		
		map=new jvm.WorldMap({
			map:"world_merc_en",
			scaleColors:["#e74c3c","#0071a4"],
			container:$("#ampcontainer"),
			normalizeFunction:"linear",
			hoverOpacity:.5,hoverColor:false,
			markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},
			regions:[{attribute:"fill"}],regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},
			series:{regions:[{values:{IN:"#00acac",US:"#00acac",KR:"#00acac"}}]},
			focusOn:{x:.5,y:.5,scale:2},
			backgroundColor:"#2d353c"
		})
*/	
		var map = new jvm.Map({
			container:$('#ampcontainer'),
    		
    		series: {
    			regions: [{
      				values: provinceValueMap,
      				scale: ['#C8EEFF', '#0071A4'],
      				normalizeFunction: 'polynomial'
    			}]
  			},
  			onRegionTipShow: function(e, el, code){
    			el.html(el.html()+' ('+provinceValueMap[code]+')');
  			},

    		map: 'cn_merc_cn'    		
  		});
  		
  		var flashFlag = 1;
  		var flashValues = function(){
	        var values = {},key;

			if (flashFlag == 1)
			{
				flashFlag = 0;
			}
			else 
			{
				flashFlag = 1;
			}
	        
	        for (key in map.regions) {
	        	if (provinceChargingMap[key] > 0 && flashFlag == 1)
	        	{
	        		values[key] = provinceValueMap[key]/2;
	        	}
	        	else
	        	{	        	
	          		values[key] = provinceValueMap[key];
	          	}
	        }
        	return values;
      	};
  		
  		function flashMap() {
  			map.series.regions[0].setValues(flashValues());
  		}
  		
  		window.setInterval(flashMap,1000); 
	}
	
	document.getElementById("chargerChargingSpan").innerText = chargerCharging;
	document.getElementById("chargerFreeSpan").innerText = chargerFree;
	document.getElementById("chargerFaultSpan").innerText = chargerFault;
	document.getElementById("chargerOfflineSpan").innerText = chargerOffline;
};

/*
var handleScheduleCalendar=function()
{
	var e=["January","February","March","April","May","June","July","August","September","October","November","December"];
	var t=["S","M","T","W","T","F","S"];
	var n=new Date,r=n.getMonth()+1,i=n.getFullYear();
	var s=[["2/"+r+"/"+i,"Popover Title","#","#00acac","Some contents here"],["5/"+r+"/"+i,"Tooltip with link","http://www.seantheme.com/color-admin-v1.3","#2d353c"],["18/"+r+"/"+i,"Popover with HTML Content","#","#2d353c",'Some contents here <div class="text-right"><a href="http://www.google.com">view more >>></a></div>'],["28/"+r+"/"+i,"Color Admin V1.3 Launched","http://www.seantheme.com/color-admin-v1.3","#2d353c"]];
	var o=$("#schedule-calendar");
	$(o).calendar({months:e,days:t,events:s,popover_options:{placement:"top",html:true}});
	$(o).find("td.event").each(function(){var e=$(this).css("background-color");$(this).removeAttr("style");$(this).find("a").css("background-color",e)});
	$(o).find(".icon-arrow-left, .icon-arrow-right").parent().on("click",function(){$(o).find("td.event").each(function(){var e=$(this).css("background-color");$(this).removeAttr("style");$(this).find("a").css("background-color",e)})})
};
		
var handleDashboardGritterNotification=function()
{
	$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-14.jpg",sticky:true,time:"",class_name:"my-sticky-class"})},1e3)})
};
*/
	var handleChargerPowerMorrisBarChart=function(){
		// 总桩个数
		var totalCharger = $("#powersize").val();
		////////////////////////////////////////////////////////////////////////
		// 充电机功率分布图
		var t12 = parseInt($("#power12").val());
		var t30 = parseInt($("#power30").val());
		var t60 = parseInt($("#power60").val());
		var t90 = parseInt($("#power90").val());
		var t120 = parseInt($("#power120").val());
		var t150 = parseInt($("#power150").val());
		var t180 = parseInt($("#power180").val());
		var t300 = parseInt($("#power300").val());
		var t600 = parseInt($("#power600").val());
		// 充电机功率分布图
		var chargerPowerMap = [
			{device:"12kW",count:t12},
			{device:"30kW",count:t30},
			{device:"60kW",count:t60},
			{device:"90kW",count:t90},
			{device:"120kW",count:t120},
			{device:"150kW",count:t150},
			{device:"300kW",count:t300},
			{device:"600kW",count:t600}
		];
		
		Morris.Bar({
			element:"chargerPower-morris-bar-chart",
			data:chargerPowerMap,
			xkey:"device",ykeys:["count"],
			labels:["数量"],
			barRatio:.4,
			xLabelAngle:35,
			hideHover:"auto",
			resize:true,
			barColors:["#4d95d8"]
		});
		
		document.getElementById("totalChargerSpan").innerText = totalCharger;
	};

	var handleErrorMorrisAreaChart=function()
	{
		var firstName = $("#firstName").val();var secondName = $("#secondName").val();
		var thirdName = $("#thirdName").val();var fourName = $("#fourName").val();
		var date1 = $("#date1").val();var date2 = $("#date2").val();var date3 = $("#date3").val();
		var date4 = $("#date4").val();var date5 = $("#date5").val();var date6 = $("#date6").val();
		var date7 = $("#date7").val();var date8 = $("#date8").val();var date9 = $("#date9").val();
		var date10 = $("#date10").val();var date11 = $("#date11").val();var date12 = $("#date12").val();
		var countfirst1;var countsecond1;var countthir1;var countfour1;
		var countfirst2;var countsecond2;var countthir2;var countfour2;
		var countfirst3;var countsecond3;var countthir3;var countfour3;
		var countfirst4;var countsecond4;var countthir4;var countfour4;
		var countfirst5;var countsecond5;var countthir5;var countfour5;
		var countfirst6;var countsecond6;var countthir6;var countfour6;
		var countfirst7;var countsecond7;var countthir7;var countfour7;
		var countfirst8;var countsecond8;var countthir8;var countfour8;
		var countfirst9;var countsecond9;var countthir9;var countfour9;
		var countfirst10;var countsecond10;var countthir10;var countfour10;
		var countfirst11;var countsecond11;var countthir11;var countfour11;
		var countfirst12;var countsecond12;var countthir12;var countfour12;
		for(var i = 1;12 >= i;i++){
			if(i == 1){
				countfirst1 = $("#countfirst1").val();
				countsecond1 = $("#countsecond1").val();
				countthir1 = $("#countthird1").val();
				countfour1 = $("#countfour1").val();
			}
			if(i == 2){
				countfirst2 = $("#countfirst2").val();
				countsecond2 = $("#countsecond2").val();
				countthir2 = $("#countthird2").val();
				countfour2 = $("#countfour2").val();
			}
			if(i == 3){
				countfirst3 = $("#countfirst3").val();
				countsecond3 = $("#countsecond3").val();
				countthir3 = $("#countthird3").val();
				countfour3 = $("#countfour3").val();
			}
			if(i == 4){
				countfirst4 = $("#countfirst4").val();
				countsecond4 = $("#countsecond4").val();
				countthir4 = $("#countthird4").val();
				countfour4 = $("#countfour4").val();
			}
			if(i == 5){
				countfirst5 = $("#countfirst5").val();
				countsecond5 = $("#countsecond5").val();
				countthir5 = $("#countthird5").val();
				countfour5 = $("#countfour5").val();
			}
			if(i == 6){
				countfirst6 = $("#countfirst6").val();
				countsecond6 = $("#countsecond6").val();
				countthir6 = $("#countthird6").val();
				countfour6 = $("#countfour6").val();
			}
			if(i == 7){
				countfirst7 = $("#countfirst7").val();
				countsecond7 = $("#countsecond7").val();
				countthir7 = $("#countthird7").val();
				countfour7 = $("#countfour7").val();
			}
			if(i == 8){
				countfirst8 = $("#countfirst8").val();
				countsecond8 = $("#countsecond8").val();
				countthir8 = $("#countthird8").val();
				countfour8 = $("#countfour8").val();
			}
			if(i == 9){
				countfirst9 = $("#countfirst9").val();
				countsecond9 = $("#countsecond9").val();
				countthir9 = $("#countthird9").val();
				countfour9 = $("#countfour9").val();
			}
			if(i == 10){
				countfirst10 = $("#countfirst10").val();
				countsecond10 = $("#countsecond10").val();
				countthir10 = $("#countthird10").val();
				countfour10 = $("#countfour10").val();
			}
			if(i == 11){
				countfirst11 = $("#countfirst11").val();
				countsecond11 = $("#countsecond11").val();
				countthir11 = $("#countthird11").val();
				countfour11 = $("#countfour11").val();
			}
			if(i == 12){
				countfirst12 = $("#countfirst12").val();
				countsecond12 = $("#countsecond12").val();
				countthir12 = $("#countthird12").val();
				countfour12 = $("#countfour12").val();
			}
		}
		var top4Error= [firstName,secondName,thirdName,fourName];
		var chargerErrorMap = [
			/*{period: date1, first: countfirst1, second: countsecond1,third:countthir1,four:countfour1},
			{period: date2, first: countfirst2, second: countsecond2,third:countthir2,four:countfour2},
			{period: date3, first: countfirst3, second: countsecond3,third:countthir3,four:countfour3},
			{period: date4, first: countfirst4, second: countsecond4,third:countthir4,four:countfour4},
			{period: date5, first: countfirst5, second: countsecond5,third:countthir5,four:countfour5},
			{period: date6, first: countfirst6, second: countsecond6,third:countthir6,four:countfour6},*/
			{period: date7, first: countfirst7, second: countsecond7,third:countthir7,four:countfour7},
			{period: date8, first: countfirst8, second: countsecond8,third:countthir8,four:countfour8},
			{period: date9, first: countfirst9, second: countsecond9,third:countthir9,four:countfour9},
			{period: date10, first: countfirst10, second: countsecond10,third:countthir10,four:countfour10},
			{period: date11, first: countfirst11, second: countsecond11,third:countthir11,four:countfour11},
			{period: date12, first: countfirst12, second: countsecond12,third:countthir12,four:countfour12}
			];	
		var labels = [firstName,secondName,thirdName,fourName];

		Morris.Area({
			element:"morris-area-chart",
			data:chargerErrorMap,
			xkey:"period",ykeys:["first","third","four","second"],
			labels:top4Error,
			xLabelFormat:function(e){
				e=getMonthName(e.getMonth());
				if(e.toString() == "9月"){
					var str = "九月";
					return str;
				}
				return e.toString()
			},
			pointSize:2,
			hideHover:"auto",
			resize:true,
			lineColors:['#00acac','#006867','#2d353c','#49b6d6', '#727cb6']
		});
		var currentErrorCount = $("#otherErrorDiv").html();
		document.getElementById("currentErrorCountSpan").innerText = currentErrorCount;	
	};

var handleOtherCount=function()
{
	////////////////////////////////////////////////////////////////////////
	//其他统计
	var provinceCount = $("#otherProviceDiv").html();
	var operatorCount = $("#otherOperatorDiv").html();
	var stationCount = $("#otherStationDiv").html();
	var userCount = $("#otherUserDiv").html();
	var vehicleCount = $("#otherVehicleDiv").html();
	var settleCount = $("#otherSettleDiv").html();
	var runDayCount = $("#otherDayDiv").html();
	var currentErrorCount = $("#otherErrorDiv").html();
	var totalCharger = $("#powersize").val();
	document.getElementById("otherProviceDiv").innerText = provinceCount;	
	document.getElementById("otherOperatorDiv").innerText = operatorCount;	
	document.getElementById("otherStationDiv").innerText = stationCount;	
	document.getElementById("otherChargerDiv").innerText = totalCharger;	
	document.getElementById("otherUserDiv").innerText = userCount;	
	document.getElementById("otherVehicleDiv").innerText = vehicleCount;	
	document.getElementById("otherErrorDiv").innerText = currentErrorCount;	
	document.getElementById("otherSettleDiv").innerText = settleCount;	
	document.getElementById("otherDayDiv").innerText = runDayCount;	
};

var initData=function()
{
};

var DashboardV3=function()
{
	"use strict";
	return{
		init:function()
		{
			//initData();
			
			handleSumEnergyArea();
			handleSumTimeArea();
			handleSumCountArea();
			handleSumMoneyArea();

			handleJFPGEnergyLineChart();
			handleJFPGEnergyDonutChart();

			handleProvinceVectorMap();

			handleChargerPowerMorrisBarChart();

			handleErrorMorrisAreaChart();	

			handleOtherCount();

//			handleScheduleCalendar();
//			handleDashboardGritterNotification()

		}
	}
}()