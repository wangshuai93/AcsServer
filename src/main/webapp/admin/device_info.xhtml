<ui:composition template="default_device.xhtml"	xmlns="http://www.w3.org/1999/xhtml"	xmlns:f="http://java.sun.com/jsf/core"	xmlns:ui="http://java.sun.com/jsf/facelets"	xmlns:h="http://java.sun.com/jsf/html"	xmlns:my="http://java.sun.com/jsf/composite/components"	xmlns:p="http://primefaces.org/ui">	<ui:define name="centercontent">		<!-- begin #content -->		<div id="content" class="content margin_left_220px content-margin-top">			<!-- begin breadcrumb -->			<ol class="breadcrumb f-s-14">				<li>设备管理</li>				<li class="active">所有设备</li>				<li class="active">详细</li>			</ol>			<!-- begin row -->			<div class="row">				<!-- begin col-12 -->				<div class="col-md-12">					<!-- begin panel -->					<div class="panel panel-inverse">						<div class="panel-heading">							<div class="panel-heading-btn">								<a href="javascript:;"									class="btn btn-xs btn-icon btn-circle btn-default"									data-click="panel-expand"><i class="fa fa-expand"></i></a> <a									href="javascript:;"									class="btn btn-xs btn-icon btn-circle btn-success"									data-click="panel-reload"><i class="fa fa-repeat"></i></a> <a									href="javascript:;"									class="btn btn-xs btn-icon btn-circle btn-warning"									data-click="panel-collapse"><i class="fa fa-minus"></i></a> <a									href="javascript:;"									class="btn btn-xs btn-icon btn-circle btn-danger"									data-click="panel-remove"><i class="fa fa-times"></i></a>							</div>							<h4 class="panel-title">设备详细信息</h4>						</div>						<div class="panel-body">							<h:form id="form" prependId="false">								<div style="width: 100%; height: 100%; overflow: hidden;">									<p id="p_stop_message" style="display: none;">#{taskController.m_taskMessage}</p>									<p></p>									<!-- 左半边开始 -->									<div>										<h:commandButton style="color:black; margin-left:3%;height:28px;"											action="#{taskController.returnAllDevices()}" value="返回" />										<!-- <h:commandButton style="color:black;"											action="#{taskController.gotoUpgrade()}" value="升级" /> -->																					<input type="button" id="broadcast_result_btn" style="margin-left: -0.4%;height:28px;"											onclick="javascript:gotoReboot('#{taskController.m_cpeBean.m_id}')"											value="设备重启"/>																					<h:commandButton style="color:black;height:28px;"											action="#{taskController.gotoTaskManagePage()}" value="任务管理" />																					<h:commandButton style="color:black;height:28px;"											action="#{taskController.gotoResultPage()}" value="任务结果展示" />																					<h:commandButton style="color:black;height:28px;" action="#{taskController.gotoRecordTask()}" value="录制任务" />                                                                                <h:commandButton style="color:black;height:28px;"                                         action="#{cPEController.gotoDevicesUpdatePage()}" value="设置" />                                        										<table class="table" border="1"											style="width: 90%; margin-top: 20px; margin-left: 30px;">											<tbody>												<tr>													<td width="10%" align="center">设备名称</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_deviceName}" />													</td>													<td width="10%" align="center">IP地址</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_ip}" />													</td>											   </tr>											   <tr>													<td width="10%" align="center">设备状态</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_status}" /></td>													<td width="10%" align="center">设备序列号</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_serialNumber}" /></td>												</tr>												<tr>												<td width="10%" align="center">MAC地址</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_macAddress}" /></td>													<td width="10%" align="center">厂商</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_manuFacturer}" /></td>											    </tr>											    <tr>													<td width="10%" align="center">硬件版本号</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_hardwareVersion}" /></td>													<td width="10%" align="center">软件版本号</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_softwareVerison}" /></td>												</tr>
												
												<tr>												    <td width="10%" align="center">唯一标识符</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_oui}" /></td>													<td width="10%" align="center">设备类型编号</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_productClass}" /></td>												</tr>											    <tr>													<td width="10%" align="center">CMMACAddress</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_cmmacAddress}">														</h:outputText></td>
													<td width="10%" align="center">芯片厂商</td>
													<td><h:outputText style="height:26px;width:90%"
															value="#{taskController.m_cpeBean.m_decoderManufacturer}">
														</h:outputText></td>
												</tr>
												
												<tr>												   <td width="10%" align="center">芯片型号</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_decoderModel}">														</h:outputText></td>													<td width="10%" align="center">RAM大小</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_RAMSize}">														</h:outputText></td>											  </tr>											   <tr>													<td width="10%" align="center">Flash大小</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_flashSize}">														</h:outputText></td>													<td width="10%" align="center">RAM剩余</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_RAMRest}">														</h:outputText></td>
												</tr>
																								<tr>												<td width="10%" align="center">Flash剩余</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_flashRest}">														</h:outputText></td>													<td width="10%" align="center">IDLE</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_IDLE}">														</h:outputText></td>											   </tr>											   <tr>													<td width="10%" align="center">SystemRunTime</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_systemRunTime}">														</h:outputText></td>													<td width="10%" align="center">已用RAM</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_RAMUsed}">														</h:outputText></td>												</tr>												<tr>												    <td width="10%" align="center">CPU负载</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_CPULoad}">														</h:outputText></td>													<td width="10%" align="center">是否在网关</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_inNet}">														</h:outputText></td>											   </tr>											   <tr>													<td width="10%" align="center">是否告警</td>													<td><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_isAlarm}">														</h:outputText></td>													<td width="10%" align="center">位置名称</td>													<td colspan="3"><h:outputText style="height:26px;width:90%"															value="#{taskController.m_cpeBean.m_positionName}" /></td>												</tr>												 <tr>												    <td width="10%" align="center">上次上报时间</td>												     <td colspan="3"><h:outputText															value="#{taskController.m_cpeBean.m_lastContact}">														</h:outputText></td>																									</tr>											</tbody>										</table>									</div>									<!-- 左半边 结束 -->								</div>																<input type="hidden" name="task_serial_number"									value="#{taskController.m_cpeBean.m_serialNumber}" />								<input type="hidden" id="hidden_task_name" name="task_name" />								<input type="hidden" id="hidden_device_id" name="device_id" />																<h:commandButton									action="#{pingTaskResultController.gotoPingResultPage()}"									value="跳转Ping结果" style="display:none;" />								<h:commandButton									action="#{httpTaskResultController.gotoHttpResultPage()}"									value="跳转Http结果" style="display:none;" />								<h:commandButton									action="#{tcpUdpTaskResultController.gotoTcpUdpResultPage()}"									value="跳转TcpUdp结果" style="display:none;" />								<h:commandButton									action="#{recordTaskResultController.gotoRecordResultPage()}"									value="跳转Record结果" style="display:none;" />								<h:commandButton									action="#{broadcastTaskResultController.gotoBroadcastResultPage()}"									value="跳转Broadcast结果" style="display:none;" /> 								<h:commandButton action="#{taskController.reboot()}"									value="重启Reboot" style="display:none;" />								<h:commandButton action="#{taskController.changeDeviceAttr}" value="修改设备属性"  style="display: none;"/>							</h:form>						</div>					</div>					<!-- end panel -->				</div>				<!-- end col-10 -->			</div>			<!-- end row -->			<div class="invoice-footer text-muted">				<p class="text-center m-b-5">欢迎访问本系统                     V_2017.8.30</p>			</div>		</div>		<!-- end #content -->	</ui:define>	<ui:define name="js_content2">		<script type="text/javascript">		  $(document).ready(function() {    		if ($("[id$='logout']").val() =='否') {    			$("[id$='time']").attr("readonly","true");			}    		var attrName;    		//左侧边栏选中    		$("#device_manage").css('color', '#0090FF');			$("#li_1").css('color', '#88AEF1');			$("#li_2").css('color', '#0090FF');			$("#li_3").css('color', '#88AEF1');			$("#li_4").css('color', '#88AEF1');    	});			function gotoTaskResultPage(device_id, task_name){				//alert("device_id = " +　device_id + "; task_name = " +　task_name);				$("#hidden_device_id").attr("value", device_id);				if(task_name == "HTTP_TASK"){					$(":submit[value='跳转Http结果']").each(function(){						$(this).click();					});				}else if(task_name == "PING_TASK"){					$(":submit[value='跳转Ping结果']").each(function(){						$(this).click();					});				}else if(task_name == "TCPUDP_TASK"){					$(":submit[value='跳转TcpUdp结果']").each(function(){						$(this).click();					});				}else if(task_name == "RECORD_TASK"){					$(":submit[value='跳转Record结果']").each(function(){						$(this).click();					});				}else if(task_name == "TUNER_TASK"){					$(":submit[value='跳转Broadcast结果']").each(function(){						$(this).click();					});				}			}			function gotoReboot(device_id){				$("#hidden_device_id").attr("value",device_id);				$(":submit[value='重启Reboot']").each(function(){					$(this).click();				});			}			function showMessage(){		    	var o = $("#p_stop_message");		    	if (o == undefined) {		    		return ;		    	}		    	var message = o.html();		    	if (message == undefined) {		    		return ;		    	}		    	if (message != "") {		    		$.msgbox({		    			title : '提示',		    			type : 'alert',		    			content : $("#p_stop_message").html(),		    			icons: ['min', 'max', 'close'],		        		id: 0,	    				buttons: ['确定'],	                    buttonEvents: {	                        '确定': function() {	                            $.msgbox.closeAll();	                        }	                    }		    		});		    	}		    }		</script>	</ui:define></ui:composition>
